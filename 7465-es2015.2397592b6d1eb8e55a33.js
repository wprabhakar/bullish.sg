(self.webpackChunkjson_bot_ui=self.webpackChunkjson_bot_ui||[]).push([[7465],{7465:function(e,t,i){"use strict";i.r(t),i.d(t,{BotListPageModule:function(){return m}});var n=i(1116),o=i(1462),c=i(2693),s=i(6611),r=i(2782),a=i(4762),l={selectedExchange:"kucoin",selectedPair:""},g=i(8619),d=i(5067),u=i(1779),h=i(3750);function v(e,t){if(1&e&&(g.TgZ(0,"option",10),g._uU(1),g.qZA()),2&e){const e=t.$implicit,i=g.oxw();g.Q6J("selected",e===i.selectedExchange)("value",e),g.xp6(1),g.hij(" ",e," ")}}function p(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-col",11),g._UZ(1,"hr"),g.TgZ(2,"ion-card"),g.TgZ(3,"ion-card-content"),g.TgZ(4,"ion-card-subtitle"),g._UZ(5,"img",12),g.TgZ(6,"ion-toggle",13),g.NdJ("click",function(){const t=g.CHM(e).$implicit,i=g.oxw();return t.Enabled=!t.Enabled,i.onEnableDisableBot(t)}),g.qZA(),g.qZA(),g.TgZ(7,"ion-row",14),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().onEditBot(t)}),g.TgZ(8,"ion-col"),g._uU(9),g.qZA(),g.TgZ(10,"ion-col",15),g._uU(11),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,i=g.oxw();g.Q6J("size",12),g.xp6(5),g.Q6J("src",i.getLogo(e),g.LSH),g.xp6(1),g.s9C("checked",e.Enabled),g.xp6(3),g.lnq("",e.A,"/",e.B," [",e.Strategy,"]"),g.xp6(2),g.hij(" Invest ",e.$," ")}}const f=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o){this.http=e,this.oAPIService=t,this.router=i,this.oStorage=n,this.auth=o,this.userExchanges=["kucoin","lbank","aax"],this.selectedExchange=this.userExchanges[0],this.selectedPair="",this.oBotList=[],this.bRemote=!0}ngOnInit(){}onLogout(){return(0,a.mG)(this,void 0,void 0,function*(){this.auth.logout(),yield this.router.navigateByUrl("")})}onCreateBot(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("bot-strategy")})}onEditBot(e){return(0,a.mG)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("bot-setup",{state:e})})}onEnableDisableBot(e){return(0,a.mG)(this,void 0,void 0,function*(){yield this.oAPIService.send2ServerP("bot-config",!0,e),this.ionViewWillEnter()})}ionViewWillEnter(){this.selectedPair=l.selectedPair,this.selectedExchange=l.selectedExchange,""!=this.selectedPair?this.onSearchCryptoPair({target:{value:this.selectedPair}}):this.onChangeOfExchange({target:{value:this.selectedExchange}})}onChangeOfExchange(e){var t,i;l.selectedPair="",this.selectedPair="",l.selectedExchange=null===(t=e.target)||void 0===t?void 0:t.value,this.oAPIService.send2ServerP("exchange-bot-config/"+(null===(i=e.target)||void 0===i?void 0:i.value),!1).then(t=>(0,a.mG)(this,void 0,void 0,function*(){var i;l.selectedExchange=null===(i=e.target)||void 0===i?void 0:i.value,this.oBotList=t}))}onSearchCryptoPair(e){var t,i;l.selectedPair=null===(t=e.target)||void 0===t?void 0:t.value,this.oAPIService.send2ServerP("cryptopair-bot-config/"+(null===(i=e.target)||void 0===i?void 0:i.value),!1).then(e=>(0,a.mG)(this,void 0,void 0,function*(){this.oBotList=e}))}getLogo(e){let t=e.Exchange;return"aax"==t?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSA-cjwYdOQkpnvfr2gygRlocp8Od5R1LzmFRe3FSiW7u4VTppf":"kucoin"==t?"https://assets.staticimg.com/cms/media/1lB3PkckFDyfxz6VudCEACBeRRBi6sQQ7DDjz0yWM.svg":"lbank"==t?"https://www.lbank.info/fstatic/img/logo-03.svg":""}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(c.eN),g.Y36(d.D),g.Y36(r.F0),g.Y36(u.V),g.Y36(h.$))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-bot-list"]],decls:15,vars:3,consts:[["color","dark"],[1,"ion-text-capitalize"],["slot","end"],["type","text","oninput","this.value = this.value.toUpperCase()",3,"value","change"],["id","DropdownOptions",1,"form-control",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],["name","add",3,"click"],["name","exit",3,"click"],["fixed",""],["size-sm","6","size-md","4","size-lg","4",3,"size",4,"ngFor","ngForOf"],[3,"selected","value"],["size-sm","6","size-md","4","size-lg","4",3,"size"],["width","48","height","32",1,"card-img",3,"src"],[2,"float","right",3,"checked","click"],[3,"click"],["ion-align-items-end",""]],template:function(e,t){1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-title",1),g._uU(3,"Botsv1.0"),g.qZA(),g.TgZ(4,"ion-buttons",2),g.TgZ(5,"ion-input",3),g.NdJ("change",function(e){return t.onSearchCryptoPair(e)}),g.qZA(),g.TgZ(6,"select",4),g.NdJ("change",function(e){return t.onChangeOfExchange(e)}),g.YNc(7,v,2,3,"option",5),g.qZA(),g.TgZ(8,"ion-icon",6),g.NdJ("click",function(){return t.onCreateBot()}),g.qZA(),g.TgZ(9,"ion-icon",7),g.NdJ("click",function(){return t.onLogout()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"ion-content",0),g.TgZ(11,"ion-grid",8),g.TgZ(12,"ion-row"),g.YNc(13,p,12,7,"ion-col",9),g.qZA(),g.qZA(),g._UZ(14,"hr"),g.qZA()),2&e&&(g.xp6(5),g.s9C("value",t.selectedPair),g.xp6(2),g.Q6J("ngForOf",t.userExchanges),g.xp6(6),g.Q6J("ngForOf",t.oBotList))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.pK,s.j9,n.sg,s.gu,s.W2,s.jY,s.Nd,o.YN,o.Kr,s.wI,s.PM,s.FN,s.tO,s.ho,s.w],styles:["ion-icon[_ngcontent-%COMP%]{margin:10px;font-size:large}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[r.Bz.forChild(f)],r.Bz]}),e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.ez,o.UX,s.Pc,Z,c.JF]]}),e})()}}]);